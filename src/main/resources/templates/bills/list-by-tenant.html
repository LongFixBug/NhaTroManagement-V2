<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:with="pageTitleResolved=${#messages.msg('bill.list.tenant.title', tenant.name)}" th:replace="~{fragments/_layout :: html(pageTitle=${pageTitleResolved}, content=~{::content})}" lang="en">

<th:block th:fragment="content">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 th:text="${#messages.msg('bill.list.tenant.title', tenant.name)}">Bills for Tenant</h2>
        <a th:href="@{/bills/add/{tenantId}(tenantId=${tenant.id})}" class="btn btn-primary" th:text="#{button.create.bill}">Create New Bill</a>
    </div>

    <div th:if="${#lists.isEmpty(bills)}" class="alert alert-info">
        <span th:text="#{bill.list.empty.tenant}">No bills found for this tenant.</span>
    </div>

    <table class="table table-striped table-hover" th:unless="${#lists.isEmpty(bills)}">
        <thead>
        <tr>
            <th th:text="#{general.id}">ID</th>
            <th th:text="#{bill.monthYear}">Month/Year</th>
            <th th:text="#{bill.totalAmount}">Total Amount</th>
            <th th:text="#{general.actions}">Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="bill : ${bills}">
            <td th:text="${bill.id}"></td>
            <td th:text="${bill.billMonth + '/' + bill.billYear}"></td>
            <td th:text="${#numbers.formatDecimal(bill.totalAmount, 1, #messages.msg('format.decimal.groupingSeparator'), 0, #messages.msg('format.decimal.decimalSeparator')) + ' ' + #messages.msg('currency.vnd')}"></td>
            <td>
                <a th:href="@{/bills/{id}(id=${bill.id})}" class="btn btn-sm btn-outline-info" th:text="#{button.view.details}">View Details</a>
                <a th:href="@{/bills/edit/{id}(id=${bill.id})}" class="btn btn-sm btn-outline-warning ms-1" th:text="#{button.edit}">Edit</a>
                <a th:href="@{/bills/delete/{id}(id=${bill.id})}" class="btn btn-sm btn-outline-danger ms-1" th:text="#{button.delete}" th:onclick="return confirm(#messages.msg('confirm.delete.bill.text', bill.id));">Delete</a>
            </td>
        </tr>
        </tbody>
    </table>
    <div class="mt-3">
        <a th:href="@{/tenants}" class="btn btn-secondary" th:text="#{button.back.to.tenant.list}">Back to Tenant List</a>
    </div>
</th:block>

</html>
